<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Speed Test</title>
</head>
<body>
    <h1>Network Speed Test</h1>
    <button id="testSpeed">Check Network Speed</button>
    <p id="speed">Speed: </p>

    <script>
        async function checkNetworkSpeed() {
            const speedDisplay = document.getElementById('speed');
            const testFileUrl = 'https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png'; // Example file URL
            const startTime = new Date().getTime();

            try {
                // Fetch the test file
                const response = await fetch(testFileUrl, { method: 'GET', mode: 'cors' });
                const blob = await response.blob();
                const endTime = new Date().getTime();
                
                // Calculate speed
                const duration = (endTime - startTime) / 1000; // Duration in seconds
                const fileSize = blob.size; // Size in bytes
                const speedKbps = (fileSize * 8) / duration / 1024; // Convert to Kbps

                speedDisplay.textContent = `Speed: ${speedKbps.toFixed(2)} Kbps`;
            } catch (error) {
                console.error('Error fetching the file:', error);
                speedDisplay.textContent = 'Error measuring speed.';
            }
        }

        document.getElementById('testSpeed').addEventListener('click', checkNetworkSpeed);
    </script>
</body>
</html>
